<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>5RU 100 Training Plan - Evoke Method</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 20px;
            background-color: #f5f5f5;
        }
        
        .header {
            background: linear-gradient(135deg, #1a4c96, #2d5aa0);
            color: white;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            text-align: center;
        }
        
        .header h1 {
            margin: 0 0 10px 0;
            font-size: 24px;
        }
        
        .evoke-badge {
            background: #d32f2f;
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: bold;
            display: inline-block;
            margin-bottom: 10px;
        }
        
        .devon-badge {
            background: #008b00;
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: bold;
            display: inline-block;
            margin-bottom: 10px;
            margin-left: 10px;
        }
        
        .header-info {
            display: flex;
            justify-content: space-around;
            flex-wrap: wrap;
            margin-top: 15px;
        }
        
        .header-info div {
            text-align: center;
            margin: 5px;
        }
        
        .race-schedule {
            background: white;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .race-schedule h3 {
            color: #008b00;
            margin-bottom: 15px;
            text-align: center;
        }
        
        .race-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 15px;
        }
        
        .race-item {
            background: #f8f9fa;
            padding: 12px;
            border-radius: 8px;
            border-left: 4px solid #008b00;
        }
        
        .race-item h4 {
            margin: 0 0 8px 0;
            color: #1a4c96;
        }
        
        .race-item p {
            margin: 4px 0;
            font-size: 13px;
        }
        
        .training-zones {
            background: white;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .zones-title {
            font-weight: bold;
            color: #d32f2f;
            margin-bottom: 10px;
        }
        
        .zone-item {
            display: inline-block;
            margin: 5px 10px;
            font-size: 12px;
        }
        
        .zone-1 { color: #2e7d32; font-weight: bold; }
        .zone-2 { color: #ed6c02; font-weight: bold; }
        .zone-3 { color: #d32f2f; font-weight: bold; }
        
        .controls {
            margin-bottom: 20px;
            text-align: center;
        }
        
        .table-container {
            background: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
            overflow-x: auto;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 20px;
        }
        
        th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: left;
            vertical-align: top;
            font-size: 12px;
        }
        
        th {
            background: linear-gradient(135deg, #1a4c96, #2d5aa0);
            color: white;
            font-weight: bold;
            position: sticky;
            top: 0;
            z-index: 10;
        }
        
        .week-col {
            background-color: #f8f9fa;
            font-weight: bold;
            width: 80px;
        }
        
        .date-col {
            background-color: #f1f3f4;
            width: 100px;
            font-size: 11px;
        }
        
        .hours-col {
            background-color: #e8f5e8;
            width: 60px;
            text-align: center;
            font-weight: bold;
        }
        
        .day-col {
            width: 120px;
        }
        
        .rest-day {
            background-color: #fff2f2;
            color: #666;
            text-align: center;
            font-style: italic;
        }
        
        .long-run {
            background-color: #e3f2fd;
            font-weight: bold;
        }
        
        .back-to-back {
            background-color: #f3e5f5;
        }
        
        .recovery-week {
            background-color: #fff3e0;
        }
        
        .peak-week {
            background-color: #ffebee;
            font-weight: bold;
        }
        
        .race-week {
            background-color: #e8f5e8;
            font-weight: bold;
            border: 2px solid #008b00;
        }
        
        .testing-week {
            background-color: #e1f5fe;
            font-weight: bold;
            border-left: 4px solid #01579b;
        }
        
        .me-session {
            background-color: #ffebee;
            border-left: 3px solid #d32f2f;
            font-weight: bold;
        }
        
        .threshold-session {
            background-color: #f1f8e9;
            border-left: 3px solid #4caf50;
        }
        
        .pure-z1 {
            color: #2e7d32;
        }
        
        .devon-race {
            background-color: #e8f5e8;
            border: 2px solid #008b00;
            font-weight: bold;
            color: #008b00;
        }
        
        .progress-checkbox {
            width: 15px;
            height: 15px;
            margin-right: 5px;
        }
        
        @media (max-width: 768px) {
            .header-info {
                flex-direction: column;
            }
            
            th, td {
                font-size: 10px;
                padding: 6px;
            }
            
            .race-list {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="header">
        <div class="evoke-badge">EVOKE ENDURANCE METHOD</div>
        <div class="devon-badge">SW RACES</div>
        <h1>Dragon Coastal Races 100 Mile Training Plan</h1>
        <div class="header-info">
            <div><strong>Start Date:</strong> 1st September 2025</div>
            <div><strong>Race Date:</strong> 18th July 2026</div>
            <div><strong>Duration:</strong> 47 weeks to race</div>
            <div><strong>Training Model:</strong> Scott Johnston ME Method</div>
            <div><strong>Peak Volume:</strong> 15 hours/week</div>
        </div>
    </div>
    
    <div style="background: #f8f9fa; padding: 20px; border-radius: 8px; margin-top: 20px;">
        <h3 style="color: #d32f2f; margin-bottom: 15px;">Evoke Method Key Sessions</h3>
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px;">
            <div style="background: white; padding: 15px; border-radius: 8px; border-left: 4px solid #d32f2f;">
                <h4 style="color: #d32f2f; margin-top: 0;">Dragon ME Sessions (Weeks 38-43)</h4>
                <p><strong>Equipment:</strong> 12-15kg weighted vest + sand training</p>
                <p><strong>Protocol:</strong> Hill climbs + sand dune repeats (Dragon-specific)</p>
                <p><strong>Dragon Focus:</strong> Merthyr Mawr dune system simulation</p>
                <p><strong>Benefits:</strong> Sand dune power + 3400m elevation fitness</p>
            </div>
            <div style="background: white; padding: 15px; border-radius: 8px; border-left: 4px solid #ff6b35;">
                <h4 style="color: #ff6b35; margin-top: 0;">Heat Training (Weeks 40-46)</h4>
                <p><strong>Protocol:</strong> Extra layers, heated rooms, midday sessions</p>
                <p><strong>Purpose:</strong> July heat adaptation for Wales coast</p>
                <p><strong>Progression:</strong> Start Week 40, peak Week 42-43</p>
                <p><strong>Recovery:</strong> Increased hydration and electrolytes</p>
            </div>
            <div style="background: white; padding: 15px; border-radius: 8px; border-left: 4px solid #2e7d32;">
                <h4 style="color: #2e7d32; margin-top: 0;">Night Running (Weeks 40-46)</h4>
                <p><strong>Sessions:</strong> Long runs finishing in darkness</p>
                <p><strong>Purpose:</strong> Dragon 100 includes night-time technical terrain</p>
                <p><strong>Focus:</strong> Headtorch navigation + fatigue management</p>
                <p><strong>Safety:</strong> Known routes, reflective gear, phone backup</p>
            </div>
        </div>
        
        <div style="background: linear-gradient(135deg, #e3f2fd, #bbdefb); padding: 15px; border-radius: 8px; margin-top: 20px;">
            <h4 style="color: #0277bd; margin-top: 0;">Tom Evans Quote</h4>
            <p style="font-style: italic; margin-bottom: 10px;">"Heavy uphill long reps – wearing a heavy weighted vest for an uphill tempo, then hide the pack, run down and hike back up at tempo without the pack. Those sessions made a huge difference."</p>
            <p style="font-size: 13px; color: #0277bd;"><strong>- Tom Evans on his UTMB-winning ME training</strong></p>
        </div>
    </div>
    
    <div class="controls">
        <button onclick="window.print()" style="background: #1a4c96; color: white; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer; margin: 0 10px; font-size: 14px;">Print</button>
        <button onclick="toggleFKTAppendix()" style="background: #1a4c96; color: white; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer; margin: 0 10px; font-size: 14px;">FKT Guide</button>
        <button onclick="exportDevonRaces()" style="background: #008b00; color: white; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer; margin: 0 10px; font-size: 14px;">Export Devon Races</button>
    </div>
    
    <div class="table-container">
        <table>
            <thead>
                <tr>
                    <th>Week</th>
                    <th>Dates</th>
                    <th>Hours</th>
                    <th>Sunday</th>
                    <th>Monday</th>
                    <th>Tuesday</th>
                    <th>Wednesday</th>
                    <th>Thursday</th>
                    <th>Friday</th>
                    <th>Saturday</th>
                    <th>Notes/Focus</th>
                </tr>
            </thead>
            <tbody id="trainingBody">
                <!-- JavaScript will populate this -->
            </tbody>
        </table>
    </div>
    
    <div class="race-schedule">
        <h3>Dragon Coastal Race Strategy</h3>
        <div class="race-list">
            <div class="race-item">
                <h4>C RACE 1: East Devon 8 Trigs Ultra</h4>
                <p><strong>Week 11:</strong> 8th November 2025</p>
                <p><strong>Distance:</strong> 53K (8 Trigs Ultra)</p>
                <p><strong>Terrain:</strong> East Devon hills & coast with navigation</p>
                <p><strong>Purpose:</strong> Technical navigation & coastal exposure</p>
            </div>
            <div class="race-item">
                <h4>C RACE 2: East Devon FKT Challenge</h4>
                <p><strong>Week 22:</strong> 31st January/1st February 2026</p>
                <p><strong>Distance:</strong> 50K-50M FKT Attempt</p>
                <p><strong>Terrain:</strong> East Devon coastal paths & sand dunes</p>
                <p><strong>Purpose:</strong> Sand dune & coastal wind training</p>
            </div>
           <div class="race-item">
                <h4>B RACE: Southwest Coast Ultra</h4>
                <p><strong>Week 37:</strong> 2nd-8th May 2026</p>
                <p><strong>Distance:</strong> 50M-100K Ultra</p>
                <p><strong>Terrain:</strong> Coastal path with elevation (Dragon prep)</p>
                <p><strong>Purpose:</strong> Final dress rehearsal for coastal conditions</p>
            </div>
            <div class="race-item">
                <h4>A RACE: Dragon Coastal Races 100</h4>
                <p><strong>Week 47:</strong> 18th July 2026</p>
                <p><strong>Distance:</strong> 100 miles (Rhossili Bay to Cardiff)</p>
                <p><strong>Terrain:</strong> Wales Coast Path, 3400m ascent, sand dunes</p>
                <p><strong>Purpose:</strong> GOAL RACE - Dragon Slayer!</p>
            </div>
        </div>
    </div>
    
    <div class="training-zones">
        <div class="zones-title">EVOKE ENDURANCE TRAINING ZONES (Dragon Coastal Adapted)</div>
        <div class="zone-item zone-1">Zone 1 (Aerobic Base): <144 bpm - Nose breathing, conversational</div>
        <div class="zone-item zone-2">Zone 2 (Threshold): 145-167 bpm - Upper aerobic limit</div>
        <div class="zone-item zone-3">ME Sessions: Muscular Endurance + hill/dune focus</div>
        <div class="zone-item">Dragon Focus: Sand dune running, heat training, coastal elevation</div>
        <div class="zone-item">Summer Training: Heat adaptation, hydration strategy, night sessions</div>
    </div>
    
    <div style="display: none;" id="fktAppendix">
        <div style="background: linear-gradient(135deg, #1a4c96, #2d5aa0); color: white; padding: 15px; margin: 20px 0 10px 0; border-radius: 8px; font-weight: bold; text-align: center;">
            FKT CHALLENGE APPENDIX
        </div>
        
        <div class="table-container">
            <h3 style="color: #1a4c96; margin-bottom: 20px;">East Devon FKT Challenge Options</h3>
            
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(400px, 1fr)); gap: 20px; margin-bottom: 30px;">
                
                <div style="background: #f8f9fa; padding: 20px; border-radius: 10px; border-left: 5px solid #008b00;">
                    <h4 style="color: #008b00; margin-top: 0;">FKT Option 1: East Devon Way Point-to-Point</h4>
                    <p><strong>Route:</strong> Exmouth to Lyme Regis via East Devon Way</p>
                    <p><strong>Distance:</strong> ~40 miles (64km)</p>
                    <p><strong>Challenge Level:</strong> ⭐⭐⭐⭐ (High - long distance, varied terrain)</p>
                </div>
                
                <div style="background: #f8f9fa; padding: 20px; border-radius: 10px; border-left: 5px solid #ff6b35;">
                    <h4 style="color: #ff6b35; margin-top: 0;">FKT Option 2: Jurassic Coast Section</h4>
                    <p><strong>Route:</strong> Exmouth to West Bay (Bridport)</p>
                    <p><strong>Distance:</strong> ~35 miles via South West Coast Path</p>
                    <p><strong>Challenge Level:</strong> ⭐⭐⭐⭐⭐ (Very High - coastal cliffs)</p>
                </div>
                
                <div style="background: #f8f9fa; padding: 20px; border-radius: 10px; border-left: 5px solid #1a4c96;">
                    <h4 style="color: #1a4c96; margin-top: 0;">FKT Option 3: East Devon Circular</h4>
                    <p><strong>Route:</strong> Sidmouth-based circular route</p>
                    <p><strong>Distance:</strong> Design your own 50K loop</p>
                    <p><strong>Challenge Level:</strong> ⭐⭐⭐ (Moderate - customizable)</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Training data array
        var trainingData = [
            // Phase 1: Base Building (Weeks 1-8)
            {week: 1, dates: '1st-7th Sep', hours: '6.0', sun: '1:00 Easy Z1 (TRAINING STARTS)', mon: 'REST', tue: '1:00 Easy Z1 + 4x30s strides', wed: '1:00 Easy Z1', thu: 'REST', fri: '1:30 Easy Z1 (20min hiking)', sat: '1:30 Easy Z1', notes: 'Base building begins. Establish aerobic foundation.', type: 'normal'},
            {week: 2, dates: '8th-14th Sep', hours: '6.5', sun: '1:00 Easy Z1', mon: 'REST', tue: '1:00 Easy Z1 + 6x30s strides', wed: '1:00 Easy Z1', thu: 'REST or 30min walk', fri: '1:45 Easy Z1 (25min hiking)', sat: '1:45 Easy Z1', notes: 'Gentle volume increase. Focus on consistency.', type: 'normal'},
            {week: 3, dates: '15th-21st Sep', hours: '7.0', sun: '1:00 Easy Z1', mon: 'REST', tue: '1:00 Easy Z1 + 6x30s strides', wed: '1:00 Easy Z1', thu: 'REST', fri: '2:00 Easy Z1 (30min hiking)', sat: '2:00 Easy Z1', notes: 'Building aerobic capacity systematically.', type: 'normal'},
            {week: 4, dates: '22nd-28th Sep', hours: '7.5', sun: '1:00 Easy Z1 + strength', mon: 'REST', tue: '1:00 Easy Z1 + strides', wed: '1:00 Easy Z1', thu: 'REST', fri: '2:15 Easy Z1 (35min hiking)', sat: '2:15 Easy Z1', notes: 'Add strength training. Maintain aerobic focus.', type: 'normal'},
            {week: 5, dates: '29th Sep-5th Oct', hours: '8.0', sun: '1:00 Easy Z1 + strength', mon: 'REST', tue: '1:00 Easy Z1 + strides', wed: '1:00 Easy Z1', thu: 'REST', fri: '2:30 Easy Z1 (40min hiking)', sat: '2:30 Easy Z1', notes: 'Steady progression. Monitor recovery.', type: 'normal'},
            {week: 6, dates: '6th-12th Oct', hours: '8.5', sun: '1:00 Easy Z1 + strength', mon: 'REST', tue: '1:00 Easy Z1 + strides', wed: '1:00 Easy Z1', thu: 'REST', fri: '2:45 Easy Z1 (45min hiking)', sat: '2:45 Easy Z1', notes: 'Volume building steadily. Prepare for threshold.', type: 'normal'},
            {week: 7, dates: '13th-19th Oct', hours: '9.0', sun: '1:00 Easy Z1 + strength', mon: 'REST', tue: '1:00 Easy Z1 + strides', wed: '1:00 Easy Z1', thu: 'REST', fri: '3:00 Easy Z1 (50min hiking)', sat: '3:00 Easy Z1', notes: 'Peak base phase volume. Solid foundation built.', type: 'normal'},
            {week: 8, dates: '20th-26th Oct', hours: '7.0', sun: '1:00 Easy Z1 + 4x30s strides', mon: 'REST', tue: '1:00 Easy Z1 + strides', wed: '1:00 Easy Z1', thu: 'REST', fri: '2:00 Easy Z1 (35min hiking)', sat: '2:00 Easy Z1', notes: 'RECOVERY WEEK - Absorb base training adaptations.', type: 'recovery'},
            
            // Phase 2: Threshold Development (Weeks 9-16)
            {week: 9, dates: '27th Oct-2nd Nov', hours: '8.5', sun: '1:00 Easy Z1 + strength', mon: 'REST', tue: '1:00 Threshold (6x6min @144bpm, 90s rec)', wed: '1:00 Easy Z1', thu: 'REST', fri: '3:00 Easy Z1 (55min hiking)', sat: '2:30 Easy Z1 (B2B)', notes: 'Introduce threshold work. Tom Evans method begins.', type: 'normal'},
            {week: 10, dates: '3rd-9th Nov', hours: '9.0', sun: '1:00 Easy Z1 + strength', mon: 'REST', tue: '1:00 Threshold (4x10min @144bpm, 2min rec)', wed: '1:00 Easy Z1', thu: 'REST', fri: '3:15 Easy Z1 (60min hiking)', sat: '2:45 Easy Z1 (B2B)', notes: 'Build threshold capacity. Monitor HR drift.', type: 'normal'},
            {week: 11, dates: '10th-16th Nov', hours: '8.0', sun: '1:00 Easy Z1 recovery', mon: 'REST', tue: '45min Easy Z1 easy', wed: '1:00 Easy Z1', thu: 'REST', fri: '45min Easy Z1 (pre-race)', sat: 'RACE: East Devon 8 Trigs Ultra (53K)', notes: 'C RACE WEEK - East Devon 8 Trigs Ultra.', type: 'devon-race'},
            {week: 12, dates: '17th-23rd Nov', hours: '9.5', sun: '1:00 Easy Z1 + strength', mon: 'REST', tue: '1:00 Threshold (2x20min @144bpm, 3min rec)', wed: '1:00 Easy Z1', thu: 'REST', fri: '3:30 Easy Z1 (70min hiking)', sat: '3:00 Easy Z1 (B2B)', notes: 'Post-race recovery. Resume threshold development.', type: 'normal'},
            {week: 13, dates: '24th-30th Nov', hours: '10.0', sun: '1:00 Easy Z1 + strength', mon: 'REST', tue: '1:00 Threshold (4x8min @144bpm, 90s rec)', wed: '1:00 Easy Z1', thu: 'REST', fri: '3:45 Easy Z1 (75min hiking)', sat: '3:15 Easy Z1 (B2B)', notes: 'Threshold development continues. Build speed reserve.', type: 'normal'},
            {week: 14, dates: '1st-7th Dec', hours: '10.5', sun: '1:00 Easy Z1 + strength', mon: 'REST', tue: '1:00 Threshold (1x30min @144bpm)', wed: '1:00 Easy Z1', thu: 'REST', fri: '4:00 Easy Z1 (80min hiking)', sat: '3:30 Easy Z1 (B2B)', notes: 'Longer threshold blocks. Endurance at speed.', type: 'normal'},
            {week: 15, dates: '8th-14th Dec', hours: '11.0', sun: '1:00 Easy Z1 + strength', mon: 'REST', tue: '1:00 Threshold (3x10min @144bpm, 2min rec)', wed: '1:00 Easy Z1', thu: 'REST', fri: '4:15 Easy Z1 (85min hiking)', sat: '3:45 Easy Z1 (B2B)', notes: 'Peak threshold development phase. Maintain focus.', type: 'normal'},
            {week: 16, dates: '15th-21st Dec', hours: '8.5', sun: '1:00 Easy Z1 + 4x30s strides', mon: 'REST', tue: '1:00 Easy Z1 + strides', wed: '1:00 Easy Z1', thu: 'REST', fri: '3:00 Easy Z1 (60min hiking)', sat: '2:30 Easy Z1', notes: 'RECOVERY WEEK - Prepare for Christmas period.', type: 'recovery'},
            
            // Phase 3: Speed Reserve Development (Weeks 17-24)
            {week: 17, dates: '22nd-28th Dec', hours: '7.0', sun: '1:00 Easy Z1', mon: 'REST', tue: '1:00 Easy Z1 + strides', wed: 'REST (Christmas Day)', thu: '1:00 Easy Z1 (Boxing Day)', fri: 'REST', sat: '3:00 Easy Z1 (45min hiking)', notes: 'Christmas Week - maintain fitness, enjoy festivities.', type: 'christmas'},
            {week: 18, dates: '29th Dec-4th Jan', hours: '7.5', sun: '1:00 Easy Z1', mon: 'REST', tue: 'REST (New Years Day)', wed: '1:00 Easy Z1 + strides', thu: '1:00 Easy Z1', fri: 'REST', sat: '3:30 Easy Z1 (50min hiking)', notes: 'New Year Week - gradual return to training.', type: 'christmas'},
            {week: 19, dates: '5th-11th Jan', hours: '8.5', sun: '1:00 Easy Z1 + strength', mon: 'REST', tue: '1:00 Tempo (5x1km, 2min rec)', wed: '1:00 Easy Z1', thu: 'REST', fri: '3:00 Easy Z1 (55min hiking)', sat: '2:30 Easy Z1', notes: 'Speed work introduction. Build speed reserve.', type: 'normal'},
            {week: 20, dates: '12th-18th Jan', hours: '9.0', sun: '1:00 Easy Z1 + strength', mon: 'REST', tue: '1:00 Track (8x800m, 90s rec)', wed: '1:00 Easy Z1', thu: 'REST', fri: '3:15 Easy Z1 (60min hiking)', sat: '2:45 Easy Z1 (B2B)', notes: 'Track work for speed development. Tom Evans approach.', type: 'normal'},
            {week: 21, dates: '19th-25th Jan', hours: '9.5', sun: '1:00 Easy Z1 + strength', mon: 'REST', tue: '1:00 Tempo (6x1km, 90s rec)', wed: '1:00 Easy Z1', thu: 'REST', fri: '3:30 Easy Z1 (65min hiking)', sat: '3:00 Easy Z1 (B2B)', notes: 'Speed reserve building continues systematically.', type: 'normal'},
            {week: 22, dates: '26th Jan-1st Feb', hours: '8.5', sun: '1:00 Easy Z1 recovery', mon: 'REST', tue: '45min Easy Z1 easy', wed: '1:00 Easy Z1', thu: 'REST', fri: '45min Easy Z1 (pre-FKT)', sat: 'FKT ATTEMPT: East Devon Route (50K+)', notes: 'FKT CHALLENGE WEEK - East Devon 50K+ attempt.', type: 'devon-race'},
            {week: 23, dates: '2nd-8th Feb', hours: '10.0', sun: '1:00 Easy Z1 + strength', mon: 'REST', tue: '1:00 Track (10x400m, 60s rec)', wed: '1:00 Easy Z1', thu: 'REST', fri: '3:45 Easy Z1 (70min hiking)', sat: '3:15 Easy Z1 (B2B)', notes: 'Post-FKT recovery. Resume speed development.', type: 'normal'},
            {week: 24, dates: '9th-15th Feb', hours: '10.5', sun: '1:00 Easy Z1 + strength', mon: 'REST', tue: '1:00 Threshold (2x15min @144bpm, 3min rec)', wed: '1:00 Easy Z1', thu: 'REST', fri: '4:00 Easy Z1 (75min hiking)', sat: '3:30 Easy Z1 (B2B)', notes: 'Speed reserve phase complete. Prepare for ME work.', type: 'normal'},
            
            // Phase 4: Muscular Endurance Development (Weeks 25-32)
            {week: 25, dates: '16th-22nd Feb', hours: '11.0', sun: '1:00 Easy Z1 + strength', mon: 'REST', tue: '1:30 ME SESSION (12kg vest, treadmill 25% grade, 1000m vert)', wed: '1:00 Easy Z1 RECOVERY', thu: 'REST', fri: '4:15 Easy Z1 (80min hiking)', sat: '3:45 Easy Z1 (B2B)', notes: 'EVOKE ME TRAINING BEGINS - Revolutionary fatigue resistance method.', type: 'normal'},
            {week: 26, dates: '23rd Feb-1st Mar', hours: '11.5', sun: '1:00 Easy Z1 + strength', mon: 'REST', tue: '1:30 ME SESSION (weighted uphill + threshold descent)', wed: '1:00 Easy Z1 RECOVERY', thu: 'REST', fri: '4:30 Easy Z1 (85min hiking)', sat: '4:00 Easy Z1 (B2B)', notes: 'ME development continues. Build muscular durability.', type: 'normal'},
            {week: 27, dates: '2nd-8th Mar', hours: '9.0', sun: '1:00 Easy Z1 recovery', mon: 'REST', tue: '45min Easy Z1 easy', wed: '1:00 Easy Z1', thu: 'REST', fri: '45min Easy Z1 + race prep', sat: 'RACE: Southwest/Wales Ultra (50M-100K)', notes: 'B RACE WEEK - Southwest/Wales Ultra dress rehearsal.', type: 'devon-race'},
            {week: 28, dates: '9th-15th Mar', hours: '7.5', sun: '1:00 Easy Z1', mon: 'REST', tue: '45min Easy Z1 easy recovery', wed: '1:00 Easy Z1', thu: 'REST', fri: '2:30 Easy Z1 (45min hiking)', sat: '2:00 Easy Z1', notes: 'Post-B race recovery. Resume training gradually.', type: 'recovery'},
            {week: 29, dates: '16th-22nd Mar', hours: '11.5', sun: '1:00 Easy Z1 + strength', mon: 'REST', tue: '1:30 ME SESSION (Tom Evans method: weighted uphill tempo)', wed: '1:00 Easy Z1 RECOVERY', thu: 'REST', fri: '4:30 Easy Z1 (60min hiking)', sat: '4:00 Easy Z1 (B2B)', notes: 'ME development resumes post-B race. Peak training ahead.', type: 'normal'},
            {week: 30, dates: '23rd-29th Mar', hours: '12.0', sun: '1:00 Easy Z1 + strength', mon: 'REST', tue: '1:30 ME SESSION (double ME: AM weighted, PM threshold)', wed: '1:00 Easy Z1 RECOVERY', thu: 'REST', fri: '4:45 Easy Z1 (75min hiking)', sat: '4:15 Easy Z1 (B2B)', notes: 'Double ME sessions introduced. Peak ME development.', type: 'normal'},
            {week: 31, dates: '30th Mar-5th Apr', hours: '12.5', sun: '1:00 Easy Z1 + strength', mon: 'REST', tue: '1:45 ME SESSION (peak ME work: 15kg vest, 1200m vert)', wed: '1:00 Easy Z1 RECOVERY', thu: 'REST', fri: '5:00 Easy Z1 (90min hiking)', sat: '4:30 Easy Z1 (B2B)', notes: 'Peak ME training. Tom Evans UTMB-winning method.', type: 'peak'},
            {week: 32, dates: '6th-12th Apr', hours: '13.0', sun: '1:00 Easy Z1 + strength', mon: 'REST', tue: '1:45 ME SESSION (weekly for 7 weeks method)', wed: '1:00 Easy Z1 RECOVERY', thu: 'REST', fri: '5:15 Easy Z1 (45min hiking)', sat: '4:45 Easy Z1 (B2B)', notes: 'Peak ME phase continues. Muscular endurance maximized.', type: 'normal'},
            
            // Phase 5: Race Specific (Weeks 33-35)
            {week: 33, dates: '13th-19th Apr', hours: '13.5', sun: '1:00 Easy Z1 + strength', mon: 'REST', tue: '1:30 ME SESSION (race-specific: flat terrain focus)', wed: '1:00 Easy Z1 RECOVERY', thu: 'REST', fri: '5:30 Easy Z1 (race pace practice)', sat: '5:00 Easy Z1 (B2B race sim)', notes: 'PEAK VOLUME WEEK. Race-specific adaptations.', type: 'peak'},
            {week: 34, dates: '20th-26th Apr', hours: '12.5', sun: '1:00 Easy Z1 + strength', mon: 'REST', tue: '1:30 ME SESSION (final ME peak)', wed: '1:00 Easy Z1 RECOVERY', thu: 'REST', fri: '5:00 Easy Z1 (race nutrition practice)', sat: '4:30 Easy Z1 (B2B)', notes: 'Race simulation focus. Fine-tune pacing and nutrition.', type: 'peak'},
            {week: 35, dates: '27th Apr-3rd May', hours: '11.0', sun: '1:00 Easy Z1', mon: 'REST', tue: '1:00 Threshold (3x10min @race pace)', wed: '1:00 Easy Z1', thu: 'REST', fri: '4:00 Easy Z1 (race pace final hour)', sat: '3:30 Easy Z1 (B2B)', notes: 'Final race-specific work. Taper preparation begins.', type: 'normal'},
            
            // Phase 6: Taper (Weeks 36-37)
            {week: 36, dates: '4th-10th May', hours: '8.0', sun: '1:00 Easy Z1 + 4x30s strides', mon: 'REST', tue: '45min Easy Z1 + 4x20s pickups', wed: '45min Easy Z1', thu: 'REST', fri: '2:30 Easy Z1 (easy pace)', sat: '2:00 Easy Z1', notes: 'TAPER WEEK. Maintain sharpness, reduce volume.', type: 'taper'},
            
            // EXTENDED PHASE: Dragon-Specific Preparation (Weeks 37-47)
            {week: 37, dates: '11th-17th May', hours: '9.0', sun: '1:00 Easy Z1 recovery', mon: 'REST', tue: '45min Easy Z1 easy', wed: '1:00 Easy Z1', thu: 'REST', fri: '45min Easy Z1 + race prep', sat: 'RACE: Southwest Coast Ultra (50M-100K)', notes: 'B RACE WEEK - Southwest Coast Ultra (Dragon prep race).', type: 'devon-race'},
            {week: 38, dates: '18th-24th May', hours: '10.5', sun: '1:00 Easy Z1 + strength', mon: 'REST', tue: '1:30 Hill ME SESSION (Dragon prep: steep climbs)', wed: '1:00 Easy Z1 recovery', thu: 'REST', fri: '3:30 Easy Z1 (beach/sand running)', sat: '3:00 Easy Z1 (coastal hills)', notes: 'Dragon-specific training begins. Hill ME + sand adaptation.', type: 'normal'},
            {week: 39, dates: '25th-31st May', hours: '11.0', sun: '1:00 Easy Z1 + strength', mon: 'REST', tue: '1:30 Dune ME SESSION (sand hill repeats)', wed: '1:00 Easy Z1 recovery', thu: 'REST', fri: '4:00 Easy Z1 (coastal elevation)', sat: '3:30 Easy Z1 (B2B sand focus)', notes: 'Sand dune training focus. Build Dragon-specific strength.', type: 'normal'},
            {week: 40, dates: '1st-7th Jun', hours: '11.5', sun: '1:00 Easy Z1 + strength', mon: 'REST', tue: '1:45 Peak Hill ME (3400m Dragon simulation)', wed: '1:00 Easy Z1 recovery', thu: 'REST', fri: '4:15 Easy Z1 (heat adaptation)', sat: '4:00 Easy Z1 (night running)', notes: 'Peak Dragon preparation. Heat + night training begins.', type: 'normal'},
            {week: 41, dates: '8th-14th Jun', hours: '12.0', sun: '1:00 Easy Z1 + strength', mon: 'REST', tue: '1:45 Dragon ME (weighted vest + sand climbs)', wed: '1:00 Easy Z1 recovery', thu: 'REST', fri: '4:30 Easy Z1 (heat stress)', sat: '4:15 Easy Z1 (coastal B2B)', notes: 'Dragon ME training peak. Heat stress adaptation.', type: 'peak'},
            {week: 42, dates: '15th-21st Jun', hours: '12.5', sun: '1:00 Easy Z1 + strength', mon: 'REST', tue: '2:00 Final Peak ME (Dragon course simulation)', wed: '1:00 Easy Z1 recovery', thu: 'REST', fri: '5:00 Easy Z1 (race pace + heat)', sat: '4:30 Easy Z1 (night practice)', notes: 'PEAK DRAGON TRAINING. Course simulation with heat.', type: 'peak'},
            {week: 43, dates: '22nd-28th Jun', hours: '13.0', sun: '1:00 Easy Z1 + strength', mon: 'REST', tue: '1:45 Dragon ME (Merthyr Mawr simulation)', wed: '1:00 Easy Z1 recovery', thu: 'REST', fri: '5:15 Easy Z1 (heat + elevation)', sat: '4:45 Easy Z1 (coastal race pace)', notes: 'Peak volume with Dragon course demands. Merthyr Mawr prep.', type: 'peak'},
            {week: 44, dates: '29th Jun-5th Jul', hours: '12.0', sun: '1:00 Easy Z1 + strength', mon: 'REST', tue: '1:30 ME (taper begins, maintain sharpness)', wed: '1:00 Easy Z1 recovery', thu: 'REST', fri: '4:30 Easy Z1 (race nutrition test)', sat: '4:00 Easy Z1 (final B2B)', notes: 'Begin Dragon taper. Maintain ME sharpness.', type: 'normal'},
            {week: 45, dates: '6th-12th Jul', hours: '10.0', sun: '1:00 Easy Z1 + 6x30s strides', mon: 'REST', tue: '1:00 Threshold (3x8min @race pace)', wed: '1:00 Easy Z1', thu: 'REST', fri: '3:30 Easy Z1 (final heat test)', sat: '3:00 Easy Z1', notes: 'Dragon taper continues. Final heat adaptation.', type: 'taper'},
            {week: 46, dates: '13th-19th Jul', hours: '7.0', sun: '1:00 Easy Z1 + 4x30s strides', mon: 'REST', tue: '45min Easy Z1 + 4x20s pickups', wed: '45min Easy Z1', thu: 'REST', fri: '2:00 Easy Z1 (final prep)', sat: '1:30 Easy Z1 + strides', notes: 'FINAL DRAGON TAPER. Reduce volume, maintain sharpness.', type: 'taper'},
            {week: 47, dates: '20th-26th Jul', hours: '3.5', sun: '45min Easy Z1 + 4x30s strides', mon: 'REST', tue: '30min Easy Z1 + 3x20s pickups', wed: '30min Easy Z1', thu: 'REST', fri: '30min Easy Z1 shakeout OR REST', sat: 'RACE DAY - Dragon Coastal 100!', notes: 'DRAGON RACE WEEK - Slay the Dragon! 36-hour adventure.', type: 'race'}
        ];
        
        // Render table function
        function renderTable() {
            var tbody = document.getElementById('trainingBody');
            if (!tbody) return;
            
            tbody.innerHTML = '';
            
            for (var i = 0; i < trainingData.length; i++) {
                var week = trainingData[i];
                var row = document.createElement('tr');
                
                if (week.type === 'devon-race') {
                    row.classList.add('devon-race');
                } else if (week.type === 'peak') {
                    row.classList.add('peak-week');
                } else if (week.type === 'race') {
                    row.classList.add('race-week');
                }
                
                function getCellClass(workout) {
                    if (!workout || workout === 'REST') return 'day-col rest-day';
                    if (workout.indexOf('ME SESSION') !== -1) return 'day-col me-session';
                    if (workout.indexOf('Threshold') !== -1 || workout.indexOf('Track') !== -1 || workout.indexOf('Tempo') !== -1) return 'day-col threshold-session';
                    if (workout.indexOf('Long') !== -1 || workout.indexOf('B2B') !== -1) return 'day-col long-run';
                    if (workout.indexOf('Easy Z1') !== -1) return 'day-col pure-z1';
                    if (workout.indexOf('RACE') !== -1 || workout.indexOf('FKT') !== -1) return 'day-col devon-race';
                    return 'day-col';
                }
                
                row.innerHTML = 
                    '<td class="week-col">Week ' + week.week + '</td>' +
                    '<td class="date-col">' + week.dates + '</td>' +
                    '<td class="hours-col">' + week.hours + '</td>' +
                    '<td class="' + getCellClass(week.sun) + '"><input type="checkbox" class="progress-checkbox" onchange="saveCheck(this)">' + (week.sun || '') + '</td>' +
                    '<td class="' + getCellClass(week.mon) + '"><input type="checkbox" class="progress-checkbox" onchange="saveCheck(this)">' + (week.mon || '') + '</td>' +
                    '<td class="' + getCellClass(week.tue) + '"><input type="checkbox" class="progress-checkbox" onchange="saveCheck(this)">' + (week.tue || '') + '</td>' +
                    '<td class="' + getCellClass(week.wed) + '"><input type="checkbox" class="progress-checkbox" onchange="saveCheck(this)">' + (week.wed || '') + '</td>' +
                    '<td class="' + getCellClass(week.thu) + '"><input type="checkbox" class="progress-checkbox" onchange="saveCheck(this)">' + (week.thu || '') + '</td>' +
                    '<td class="' + getCellClass(week.fri) + '"><input type="checkbox" class="progress-checkbox" onchange="saveCheck(this)">' + (week.fri || '') + '</td>' +
                    '<td class="' + getCellClass(week.sat) + '"><input type="checkbox" class="progress-checkbox" onchange="saveCheck(this)">' + (week.sat || '') + '</td>' +
                    '<td>' + (week.notes || '') + '</td>';
                
                tbody.appendChild(row);
            }
            
            // Load saved checkbox states
            loadCheckboxStates();
        }
        
        // Checkbox persistence functions
        function saveCheck(checkbox) {
            var id = checkbox.parentNode.cellIndex + '_' + checkbox.parentNode.parentNode.rowIndex;
            localStorage.setItem('checkbox_' + id, checkbox.checked);
        }
        
        function loadCheckboxStates() {
            var checkboxes = document.querySelectorAll('.progress-checkbox');
            checkboxes.forEach(function(checkbox) {
                var id = checkbox.parentNode.cellIndex + '_' + checkbox.parentNode.parentNode.rowIndex;
                var saved = localStorage.getItem('checkbox_' + id);
                if (saved === 'true') {
                    checkbox.checked = true;
                }
            });
        }
        
        // FKT toggle function
        function toggleFKTAppendix() {
            var appendix = document.getElementById('fktAppendix');
            var table = document.querySelector('.table-container');
            var button = event.target;
            
            if (appendix && table) {
                if (appendix.style.display === 'none' || appendix.style.display === '') {
                    appendix.style.display = 'block';
                    table.style.display = 'none';
                    button.textContent = 'Training Plan';
                    button.style.background = '#008b00';
                } else {
                    appendix.style.display = 'none';
                    table.style.display = 'block';
                    button.textContent = 'FKT Guide';
                    button.style.background = '#1a4c96';
                }
            }
        }
        
        // Export function
        function exportDevonRaces() {
            var raceData = [
                ['Race', 'Date', 'Distance', 'Location', 'Purpose'],
                ['East Devon 8 Trigs Ultra', '8th November 2025', '53K', 'East Devon', 'Navigation & terrain prep'],
                ['East Devon FKT Challenge', '31st Jan/1st Feb 2026', '50K+', 'East Devon', 'Self-supported ultra'],
                ['Southwest/Wales Ultra', '2nd-8th March 2026', '50M-100K', 'Southwest/Wales', 'Dress rehearsal'],
                ['Five Rivers Ultra 100', '10th May 2026', '100 miles', 'Essex/Suffolk Coast', 'GOAL RACE']
            ];
            
            var csvContent = raceData.map(function(row) { return row.join(','); }).join('\n');
            
            var blob = new Blob([csvContent], { type: 'text/csv' });
            var url = window.URL.createObjectURL(blob);
            var a = document.createElement('a');
            a.href = url;
            a.download = 'Devon_Race_Schedule_2025-2026.csv';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            window.URL.revokeObjectURL(url);
        }
        
        // Initialize on page load
        window.addEventListener('load', renderTable);
        document.addEventListener('DOMContentLoaded', renderTable);
    </script>
    
    <div style="background: #f8f9fa; padding: 20px; border-radius: 8px; margin-top: 20px;">
        <h3 style="color: #d32f2f; margin-bottom: 15px;">Evoke Method Key Sessions</h3>
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px;">
            <div style="background: white; padding: 15px; border-radius: 8px; border-left: 4px solid #d32f2f;">
                <h4 style="color: #d32f2f; margin-top: 0;">ME Sessions (Weeks 25-32)</h4>
                <p><strong>Equipment:</strong> 12-15kg weighted vest or backpack</p>
                <p><strong>Protocol:</strong> Treadmill 25% grade for 1000-1200m vertical gain</p>
                <p><strong>Frequency:</strong> 1x per week, between recovery days</p>
                <p><strong>Benefits:</strong> Fatigue resistance without lactate accumulation</p>
            </div>
            <div style="background: white; padding: 15px; border-radius: 8px; border-left: 4px solid #4caf50;">
                <h4 style="color: #4caf50; margin-top: 0;">Threshold Work (Weeks 9-24)</h4>
                <p><strong>Target:</strong> 144 bpm (your aerobic threshold)</p>
                <p><strong>Format:</strong> Intervals from 6x6min up to 1x30min</p>
                <p><strong>Purpose:</strong> Build speed reserve for ultra pace</p>
                <p><strong>Recovery:</strong> 90s-3min between intervals</p>
            </div>
            <div style="background: white; padding: 15px; border-radius: 8px; border-left: 4px solid #2e7d32;">
                <h4 style="color: #2e7d32; margin-top: 0;">Easy Z1 Base (All Weeks)</h4>
                <p><strong>Heart Rate:</strong> <144 bpm (nose breathing)</p>
                <p><strong>Percentage:</strong> 80% of all training time</p>
                <p><strong>Purpose:</strong> Aerobic enzyme development</p>
                <p><strong>Key:</strong> Conversational pace, build volume gradually</p>
            </div>
        </div>
        
        <div style="background: linear-gradient(135deg, #e3f2fd, #bbdefb); padding: 15px; border-radius: 8px; margin-top: 20px;">
            <h4 style="color: #0277bd; margin-top: 0;">Tom Evans Quote</h4>
            <p style="font-style: italic; margin-bottom: 10px;">"Heavy uphill long reps – wearing a heavy weighted vest for an uphill tempo, then hide the pack, run down and hike back up at tempo without the pack. Those sessions made a huge difference."</p>
            <p style="font-size: 13px; color: #0277bd;"><strong>- Tom Evans on his UTMB-winning ME training</strong></p>
        </div>
    </div>
</body>
</html>
